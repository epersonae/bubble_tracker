

<head>

  <title>Bubble Car Mileage</title>

</head>

 

<body>



  <div class="container">

    <header>

      <h1>Bubble Car Mileage</h1>

	  {{> loginButtons}}
	  
	  {{#if currentUser}}

      <form class="new-recharge">

        <input type="number" name="mileage" placeholder="Mileage" />
        <input type="number" name="barsRemaining" placeholder="Bars remaining"/>
        <input type="submit" value="Add recharge"/>

      </form>
      
      {{/if}}

    </header>
      
 {{#each chargingdata}}

        {{> summary}}

      {{/each}} 
      
 <section>
	 <h2>Charging Details</h2>

    <table>
	    <thead>
		    <tr>
                <th>Charge Date</th>
                <th>Mileage</th>
                <th>KWH Used</th>
            </tr>
	    </thead>
	    <tbody>

      {{#each recharges}}

        {{> recharge}}

      {{/each}}

    </tbody>
    </table>
 </section>
 
 <section>
    
    <h2>To-Do List for this app</h2>
    <ul>
	    <li>Authentication improvements</li>
	    <li>Allow manual date entry</li>
	    <li>Allow entry editing (typo fixing!)</li>
	    <li>Allow for partial charges</li>
	    <li>Android app?</li>
    </ul>
 </section>

  </div>

</body>

 
<template name="summary">
<section>
<h2>Summary</h2>
    <dl>
    	<dt>Total distance traveled</dt>
    	<dd>{{totalDistance}}</dd>
		
		<dt>Total electricity used</dt>
		<dd>{{totalKWH}} KWH</dd>
		
		<dt>Average miles per KWH</dt>
		<dd>{{averageMPKWH}}</dd>
        
        <dt>Range per full charge (approx)</dt>
        <dd>{{range}}</dd>
    </dl>
</section>
</template>



<template name="recharge">
    <tr>
	    <td>{{shortDate createdAt}}</td>
	    <td>{{mileage}}</td>
	    <td>{{barsUsed}}</td>
    </tr>
</template>

